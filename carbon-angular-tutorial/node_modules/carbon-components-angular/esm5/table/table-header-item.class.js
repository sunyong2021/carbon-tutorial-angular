/**
 *
 * carbon-angular v0.0.0 | table-header-item.class.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


import * as tslib_1 from "tslib";
var TableHeaderItem = /** @class */ (function () {
    /**
     * Creates an instance of TableHeaderItem.
     */
    function TableHeaderItem(rawData) {
        var e_1, _a;
        /**
         * Defines if column under this TableHeaderItem should be displayed.
         *
         */
        this.visible = true;
        /**
         * Disables sorting by default.
         *
         */
        this.sorted = false;
        /**
         * Enables sorting on click by default.
         * If false then this column won't show a sorting arrow at all.
         *
         */
        this.sortable = true;
        /**
         * Number of applied filters.
         *
         * `filter()` should set it to appropriate number.
         *
         */
        this.filterCount = 0;
        /**
         * The number of rows to span
         * **NOTE:** not supported by the default carbon table
         */
        this.rowSpan = 1;
        /**
         * The number of columns to span
         */
        this.colSpan = 1;
        /**
         * Style for the column, applied to every element in the column.
         *
         * ngStyle-like format
         *
         */
        this.style = {};
        /**
         * used in `ascending`
         *
         * @protected
         */
        this._ascending = true;
        // defaults so we dont leave things empty
        var defaults = {
            data: "",
            visible: this.visible,
            style: this.style,
            filterCount: this.filterCount,
            filterData: { data: "" }
        };
        // fill our object with provided props, and fallback to defaults
        var data = Object.assign({}, defaults, rawData);
        try {
            for (var _b = tslib_1.__values(Object.getOwnPropertyNames(data)), _c = _b.next(); !_c.done; _c = _b.next()) {
                var property = _c.value;
                if (data.hasOwnProperty(property)) {
                    this[property] = data[property];
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
    }
    Object.defineProperty(TableHeaderItem.prototype, "ascending", {
        get: function () {
            return this._ascending;
        },
        /**
         * If true, sort is set to ascending, if false descending will be true.
         *
         */
        set: function (asc) {
            this._ascending = asc;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TableHeaderItem.prototype, "descending", {
        get: function () {
            return !this._ascending;
        },
        /**
         * If true, sort is set to descending, if false ascending will be true.
         *
         */
        set: function (desc) {
            this._ascending = !desc;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TableHeaderItem.prototype, "title", {
        get: function () {
            if (this._title) {
                return this._title;
            }
            if (!this.data) {
                return "";
            }
            if (typeof this.data === "string") {
                return this.data;
            }
            if (this.data.toString &&
                this.data.constructor !== ({}).constructor) {
                return this.data.toString();
            }
            // data canâ€™t be reasonably converted to an end user readable string
            return "";
        },
        set: function (title) {
            this._title = title;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Used for sorting rows of the table.
     *
     * Override to enable different sorting.
     *
     * < 0 if `one` should go before `two`
     * > 0 if `one` should go after `two`
     * 0 if it doesn't matter (they are the same)
     */
    TableHeaderItem.prototype.compare = function (one, two) {
        if (!one || !two) {
            return 0;
        }
        if (typeof one.data === "string") {
            return one.data.localeCompare(two.data);
        }
        if (one.data < two.data) {
            return -1;
        }
        else if (one.data > two.data) {
            return 1;
        }
        else {
            return 0;
        }
    };
    /**
     * Used to filter rows in the table.
     *
     * Override to make a custom filter.
     *
     * Even though there is just one filter function, there can be multiple filters.
     * When implementing filter, set `filterCount` before returning.
     *
     * `true` to hide the row
     * `false` to show the row
     */
    TableHeaderItem.prototype.filter = function (item) {
        this.filterCount = 0;
        return false;
    };
    return TableHeaderItem;
}());
export { TableHeaderItem };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jYXJib24tY29tcG9uZW50cy1hbmd1bGFyL3RhYmxlLyIsInNvdXJjZXMiOlsidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU1BO0lBeU9DOztPQUVHO0lBQ0gseUJBQVksT0FBYTs7UUEzT3pCOzs7V0FHRztRQUNILFlBQU8sR0FBRyxJQUFJLENBQUM7UUFFZjs7O1dBR0c7UUFDSCxXQUFNLEdBQUcsS0FBSyxDQUFDO1FBRWY7Ozs7V0FJRztRQUNILGFBQVEsR0FBRyxJQUFJLENBQUM7UUFFaEI7Ozs7O1dBS0c7UUFDSCxnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUVoQjs7O1dBR0c7UUFDSCxZQUFPLEdBQUcsQ0FBQyxDQUFDO1FBRVo7O1dBRUc7UUFDSCxZQUFPLEdBQUcsQ0FBQyxDQUFDO1FBUVo7Ozs7O1dBS0c7UUFDSCxVQUFLLEdBQUcsRUFBRSxDQUFDO1FBaUpYOzs7O1dBSUc7UUFDTyxlQUFVLEdBQUcsSUFBSSxDQUFDO1FBb0MzQix5Q0FBeUM7UUFDekMsSUFBTSxRQUFRLEdBQUc7WUFDaEIsSUFBSSxFQUFFLEVBQUU7WUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixVQUFVLEVBQUUsRUFBQyxJQUFJLEVBQUUsRUFBRSxFQUFDO1NBQ3RCLENBQUM7UUFDRixnRUFBZ0U7UUFDaEUsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDOztZQUNsRCxLQUFxQixJQUFBLEtBQUEsaUJBQUEsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO2dCQUFsRCxJQUFJLFFBQVEsV0FBQTtnQkFDaEIsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNoQzthQUNEOzs7Ozs7Ozs7SUFDRixDQUFDO0lBbk1ELHNCQUFJLHNDQUFTO2FBR2I7WUFDQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDeEIsQ0FBQztRQVREOzs7V0FHRzthQUNILFVBQWMsR0FBRztZQUNoQixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztRQUN2QixDQUFDOzs7T0FBQTtJQVNELHNCQUFJLHVDQUFVO2FBR2Q7WUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO1FBVEQ7OztXQUdHO2FBQ0gsVUFBZSxJQUFJO1lBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFxSUQsc0JBQUksa0NBQUs7YUFBVDtZQUNDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO2FBQ25CO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ2YsT0FBTyxFQUFFLENBQUM7YUFDVjtZQUVELElBQUksT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtnQkFDbEMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ2pCO1lBRUQsSUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7Z0JBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUN6QztnQkFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDNUI7WUFFRCxvRUFBb0U7WUFDcEUsT0FBTyxFQUFFLENBQUM7UUFDWCxDQUFDO2FBRUQsVUFBVSxLQUFLO1lBQ2QsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDckIsQ0FBQzs7O09BSkE7SUE2QkQ7Ozs7Ozs7O09BUUc7SUFDSCxpQ0FBTyxHQUFQLFVBQVEsR0FBYyxFQUFFLEdBQWM7UUFDckMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNqQixPQUFPLENBQUMsQ0FBQztTQUNUO1FBRUQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQ2pDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDeEIsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNWO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDL0IsT0FBTyxDQUFDLENBQUM7U0FDVDthQUFNO1lBQ04sT0FBTyxDQUFDLENBQUM7U0FDVDtJQUNGLENBQUM7SUFFRDs7Ozs7Ozs7OztPQVVHO0lBQ0gsZ0NBQU0sR0FBTixVQUFPLElBQWU7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBQ0Ysc0JBQUM7QUFBRCxDQUFDLEFBeFNELElBd1NDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGFibGVJdGVtIH0gZnJvbSBcIi4vdGFibGUtaXRlbS5jbGFzc1wiO1xuaW1wb3J0IHtcblx0RXZlbnRFbWl0dGVyLFxuXHRUZW1wbGF0ZVJlZlxufSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVIZWFkZXJJdGVtIHtcblx0LyoqXG5cdCAqIERlZmluZXMgaWYgY29sdW1uIHVuZGVyIHRoaXMgVGFibGVIZWFkZXJJdGVtIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG5cdCAqXG5cdCAqL1xuXHR2aXNpYmxlID0gdHJ1ZTtcblxuXHQvKipcblx0ICogRGlzYWJsZXMgc29ydGluZyBieSBkZWZhdWx0LlxuXHQgKlxuXHQgKi9cblx0c29ydGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEVuYWJsZXMgc29ydGluZyBvbiBjbGljayBieSBkZWZhdWx0LlxuXHQgKiBJZiBmYWxzZSB0aGVuIHRoaXMgY29sdW1uIHdvbid0IHNob3cgYSBzb3J0aW5nIGFycm93IGF0IGFsbC5cblx0ICpcblx0ICovXG5cdHNvcnRhYmxlID0gdHJ1ZTtcblxuXHQvKipcblx0ICogTnVtYmVyIG9mIGFwcGxpZWQgZmlsdGVycy5cblx0ICpcblx0ICogYGZpbHRlcigpYCBzaG91bGQgc2V0IGl0IHRvIGFwcHJvcHJpYXRlIG51bWJlci5cblx0ICpcblx0ICovXG5cdGZpbHRlckNvdW50ID0gMDtcblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiByb3dzIHRvIHNwYW5cblx0ICogKipOT1RFOioqIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGRlZmF1bHQgY2FyYm9uIHRhYmxlXG5cdCAqL1xuXHRyb3dTcGFuID0gMTtcblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiBjb2x1bW5zIHRvIHNwYW5cblx0ICovXG5cdGNvbFNwYW4gPSAxO1xuXG5cdC8qKlxuXHQgKiBBdHRhY2ggYSBjbGFzcyB0byB0aGUgY29sdW1uLCBib3RoIHRoZSBoZWFkZXIgYW5kIGNvbHVtbiBjZWxscy5cblx0ICpcblx0ICovXG5cdGNsYXNzTmFtZTogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBTdHlsZSBmb3IgdGhlIGNvbHVtbiwgYXBwbGllZCB0byBldmVyeSBlbGVtZW50IGluIHRoZSBjb2x1bW4uXG5cdCAqXG5cdCAqIG5nU3R5bGUtbGlrZSBmb3JtYXRcblx0ICpcblx0ICovXG5cdHN0eWxlID0ge307XG5cblx0LyoqXG5cdCAqIElmIHRydWUsIHNvcnQgaXMgc2V0IHRvIGFzY2VuZGluZywgaWYgZmFsc2UgZGVzY2VuZGluZyB3aWxsIGJlIHRydWUuXG5cdCAqXG5cdCAqL1xuXHRzZXQgYXNjZW5kaW5nKGFzYykge1xuXHRcdHRoaXMuX2FzY2VuZGluZyA9IGFzYztcblx0fVxuXHRnZXQgYXNjZW5kaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLl9hc2NlbmRpbmc7XG5cdH1cblxuXHQvKipcblx0ICogSWYgdHJ1ZSwgc29ydCBpcyBzZXQgdG8gZGVzY2VuZGluZywgaWYgZmFsc2UgYXNjZW5kaW5nIHdpbGwgYmUgdHJ1ZS5cblx0ICpcblx0ICovXG5cdHNldCBkZXNjZW5kaW5nKGRlc2MpIHtcblx0XHR0aGlzLl9hc2NlbmRpbmcgPSAhZGVzYztcblx0fVxuXHRnZXQgZGVzY2VuZGluZygpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2FzY2VuZGluZztcblx0fVxuXG5cdC8qKlxuXHQgKiBEYXRhIGZvciB0aGUgaGVhZGVyIGl0ZW0uXG5cdCAqL1xuXHRkYXRhOiBhbnk7XG5cblx0LyoqXG5cdCAqIERhdGEgZm9yIHRoZSBoZWFkZXIgaXRlbSBmb3IgZ2VuZXJhbCB1c2FnZSBpbiB0aGUgY29udHJvbGxlci5cblx0ICogRm9yIGV4YW1wbGUsIHdoaWNoIGBmaWVsZGAgaXMgdGhpcyBjb2x1bW4gcmVsYXRlZCB0by5cblx0ICovXG5cdG1ldGFkYXRhOiBhbnk7XG5cblx0LyoqXG5cdCAqIFVzZWQgdG8gZGlzcGxheSBkYXRhIGluIGEgZGVzaXJlZCB3YXkuXG5cdCAqXG5cdCAqIElmIG5vdCBwcm92aWRlZCwgZGlzcGxheXMgZGF0YSBhcyBhIHNpbXBsZSBzdHJpbmcuXG5cdCAqXG5cdCAqIFVzYWdlOlxuXHQgKlxuXHQgKiBJbiBhIGNvbXBvbmVudCB3aGVyZSB5b3UncmUgdXNpbmcgdGhlIHRhYmxlIGNyZWF0ZSBhIHRlbXBsYXRlIGxpa2U6XG5cdCAqXG5cdCAqIGBgYGh0bWxcblx0ICogPG5nLXRlbXBsYXRlICNjdXN0b21IZWFkZXJUZW1wbGF0ZSBsZXQtZGF0YT1cImRhdGFcIj5cblx0ICogXHRcdDxpPjxhIFtyb3V0ZXJMaW5rXT1cImRhdGEubGlua1wiPnt7ZGF0YS5uYW1lfX08L2E+PC9pPlxuXHQgKiA8L25nLXRlbXBsYXRlPlxuXHQgKiBgYGBcblx0ICogd2hlcmUgd2UgYXNzdW1lIHlvdXIgZGF0YSBjb250YWlucyBgbGlua2AgYW5kIGBuYW1lYC4gYGxldC1kYXRhPVwiZGF0YVwiYCBpc1xuXHQgKiBuZWNlc3NhcnkgZm9yIHlvdSB0byBiZSBhYmxlIHRvIGFjY2VzcyBpdGVtJ3MgZGF0YSBpbiB0aGUgdGVtcGxhdGUuXG5cdCAqXG5cdCAqIENyZWF0ZSBgVmlld0NoaWxkYCBwcm9wZXJ0eSB3aXRoOlxuXHQgKlxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIChhdClWaWV3Q2hpbGQoXCJjdXN0b21IZWFkZXJUZW1wbGF0ZVwiKVxuXHQgKiBwcm90ZWN0ZWQgY3VzdG9tSGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBTZXQgdGhlIHRlbXBsYXRlIHRvIHRoZSBoZWFkZXIgaXRlbSwgZm9yIGV4YW1wbGU6XG5cdCAqXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogdGhpcy5tb2RlbC5oZWFkZXIgPSBbXG5cdCAqIFx0XHRuZXcgVGFibGVIZWFkZXJJdGVtKHtkYXRhOiB7bmFtZTogXCJDdXN0b20gaGVhZGVyXCIsIGxpbms6IFwiL3RhYmxlXCJ9LCB0ZW1wbGF0ZTogdGhpcy5jdXN0b21IZWFkZXJUZW1wbGF0ZX0pXG5cdCAqIF07XG5cdCAqIGBgYFxuXHQgKi9cblx0dGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cblx0LyoqXG5cdCAqIFRoZSBsYWJlbCBmb3IgdGhlIHNvcnQgYnV0dG9uXG5cdCAqL1xuXHRhcmlhU29ydExhYmVsOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gZm9ybWF0IHRoZSBzb3J0IGxhYmVsLiBXaWxsIGJlIGhlYXZpbHkgY2FsbGVkLlxuXHQgKi9cblx0Zm9ybWF0U29ydExhYmVsOiAobGFiZWw6IHN0cmluZywgc3RhdGljTGFiZWw/OiBzdHJpbmcpID0+IHN0cmluZztcblxuXHQvKipcblx0ICogVXNlZCBhcyBhIHRlbXBsYXRlIGZvciBwb3BvdmVyIGZpbHRlci5cblx0ICpcblx0ICogYGxldC1wb3BvdmVyPVwicG9wb3ZlclwiYCB3aWxsIGdpdmUgeW91IGFjY2VzcyB0byBwb3BvdmVyIGNvbXBvbmVudCBhbmQgYWxsb3cgeW91IHRvXG5cdCAqIG1hbmlwdWxhdGUgaXQgaWYgbmVlZGVkLlxuXHQgKlxuXHQgKiBgbGV0LWZpbHRlcj1cImZpbHRlclwiYCB3aWxsIGdpdmUgeW91IGFjY2VzcyB0byB0aGUgXCJmaWx0ZXJcIi4gVGhlIG1haW4gdGFrZWF3YXkgaXNcblx0ICogc3RvcmUgdGhlIGRhdGEgeW91IG5lZWQgdG8gYGZpbHRlci5kYXRhYC4gWW91IHdpbGwgYmUgYWJsZSB0byBhY2Nlc3MgaXQgYXNcblx0ICogYHRoaXMuZmlsdGVyRGF0YS5kYXRhYCBmcm9tIHlvdXIgYGZpbHRlcigpYCBmdW5jdGlvbiB3aGVuIHlvdSBleHRlbmQgYFRhYmxlSGVhZGVySXRlbWBcblx0ICpcblx0ICogRXhhbXBsZTpcblx0ICogYGBgaHRtbFxuXHQgKiA8bmctdGVtcGxhdGUgI2ZpbHRlciBsZXQtcG9wb3Zlcj1cInBvcG92ZXJcIj5cblx0ICogXHQ8aWJtLWxhYmVsIGNsYXNzPVwiZmlyc3QtbGFiZWxcIj5cblx0ICogXHRcdFZhbHVlXG5cdCAqIFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBbKG5nTW9kZWwpXT1cImZpbHRlcjFcIiBjbGFzcz1cImlucHV0LWZpZWxkXCI+XG5cdCAqIFx0PC9pYm0tbGFiZWw+XG5cdCAqIDwvbmctdGVtcGxhdGU+XG5cdCAqXG5cdCAqIDxuZy10ZW1wbGF0ZSAjZmlsdGVyRm9vdGVyIGxldC1wb3BvdmVyPVwicG9wb3ZlclwiIGxldC1maWx0ZXI9XCJkYXRhXCI+XG5cdCAqIFx0PGJ1dHRvbiBjbGFzcz1cImJ0bi0tcHJpbWFyeVwiIChjbGljayk9XCJmaWx0ZXIuZGF0YSA9IGZpbHRlcjE7IHBvcG92ZXIub25DbG9zZSgpXCI+QXBwbHk8L2J1dHRvbj5cblx0ICogXHQ8YnV0dG9uIGNsYXNzPVwiYnRuLS1zZWNvbmRhcnlcIiAoY2xpY2spPVwicG9wb3Zlci5vbkNsb3NlKClcIj5DYW5jZWw8L2J1dHRvbj5cblx0ICogPC9uZy10ZW1wbGF0ZT5cblx0ICogYGBgXG5cdCAqXG5cdCAqIFNldCB0aGUgdGVtcGxhdGUgd2l0aCwgZm9yIGV4YW1wbGU6XG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogbmV3IEZpbHRlcmFibGVIZWFkZXJJdGVtKHtcblx0ICogXHRmaWx0ZXJUZW1wbGF0ZTogdGhpcy5maWx0ZXIsXG5cdCAqXHRmaWx0ZXJGb290ZXI6IHRoaXMuZmlsdGVyRm9vdGVyXG5cdCAqIH0pXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBgYGB0eXBlc2NyaXB0XG5cdCAqIGNsYXNzIEZpbHRlcmFibGVIZWFkZXJJdGVtIGV4dGVuZHMgVGFibGVIZWFkZXJJdGVtIHtcblx0ICogXHQvLyBjdXN0b20gZmlsdGVyIGZ1bmN0aW9uXG5cdCAqIFx0ZmlsdGVyKGl0ZW06IFRhYmxlSXRlbSk6IGJvb2xlYW4ge1xuXHQgKiBcdFx0aWYgKHR5cGVvZiBpdGVtLmRhdGEgPT09IFwic3RyaW5nXCIgJiYgaXRlbS5kYXRhLmluZGV4T2YodGhpcy5maWx0ZXJEYXRhLmRhdGEpID49IDApIHtcblx0ICogXHRcdFx0dGhpcy5maWx0ZXJDb3VudCA9IDE7XG5cdCAqIFx0XHRcdHJldHVybiBmYWxzZTtcblx0ICogXHRcdH1cblx0ICogXHRcdHRoaXMuZmlsdGVyQ291bnQgPSAwO1xuXHQgKiBcdFx0cmV0dXJuIHRydWU7XG5cdCAqIFx0fVxuXHQgKiB9XG5cdCAqIGBgYFxuXHQgKi9cblx0ZmlsdGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cblx0LyoqXG5cdCAqIFVzZWQgYWxvbmcgd2l0aCBgZmlsdGVyVGVtcGxhdGVgIHRvIGNvbnN0cnVjdCB0aGUgZmlsdGVyIHBvcG92ZXJcblx0ICovXG5cdGZpbHRlckZvb3RlcjogVGVtcGxhdGVSZWY8YW55PjtcblxuXHQvKipcblx0ICogVGhpcyBpcyB3aGVyZSB5b3Ugc3RvcmUgeW91ciBkYXRhIHdoZW4gYXBwbHlpbmcgZmlsdGVyLlxuXHQgKlxuXHQgKiBJdCBpcyB0aGUgYWN0dWFsIG9iamVjdCB5b3UgaGF2ZSBhY2Nlc3MgdG8gd2l0aCBgbGV0LWZpbHRlcj1cImRhdGFcImAgaW4geW91ciB0ZW1wbGF0ZS5cblx0ICpcblx0ICogTWFrZSBzdXJlIHRvIHN0b3JlIGRhdGEgaW4gYGZpbHRlci5kYXRhYCBpbiB5b3VyIHRlbXBsYXRlLCBhbmQgeW91IHdpbGwgaGF2ZSBpdFxuXHQgKiBhdmFpbGFibGUgaW4gYGZpbHRlckRhdGEuZGF0YWAgaW4geW91ciBleHRlbnNpb24gb2YgYFRhYmxlSGVhZGVySXRlbWAuXG5cdCAqXG5cdCAqIEJlY2F1c2UgYW5ndWxhciBhbmQgb2JqZWN0IHJlZmVyZW5jZXMuXG5cdCAqL1xuXHRmaWx0ZXJEYXRhOiBhbnk7XG5cblx0LyoqXG5cdCAqIHVzZWQgaW4gYGFzY2VuZGluZ2Bcblx0ICpcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cHJvdGVjdGVkIF9hc2NlbmRpbmcgPSB0cnVlO1xuXG5cdGdldCB0aXRsZSgpIHtcblx0XHRpZiAodGhpcy5fdGl0bGUpIHtcblx0XHRcdHJldHVybiB0aGlzLl90aXRsZTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuZGF0YSkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiB0aGlzLmRhdGEgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiB0aGlzLmRhdGE7XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5kYXRhLnRvU3RyaW5nICYmXG5cdFx0XHR0aGlzLmRhdGEuY29uc3RydWN0b3IgIT09ICh7fSkuY29uc3RydWN0b3Jcblx0XHQpIHtcblx0XHRcdHJldHVybiB0aGlzLmRhdGEudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0XHQvLyBkYXRhIGNhbuKAmXQgYmUgcmVhc29uYWJseSBjb252ZXJ0ZWQgdG8gYW4gZW5kIHVzZXIgcmVhZGFibGUgc3RyaW5nXG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHRzZXQgdGl0bGUodGl0bGUpIHtcblx0XHR0aGlzLl90aXRsZSA9IHRpdGxlO1xuXHR9XG5cblx0cHJpdmF0ZSBfdGl0bGU6IHN0cmluZztcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBUYWJsZUhlYWRlckl0ZW0uXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihyYXdEYXRhPzogYW55KSB7XG5cdFx0Ly8gZGVmYXVsdHMgc28gd2UgZG9udCBsZWF2ZSB0aGluZ3MgZW1wdHlcblx0XHRjb25zdCBkZWZhdWx0cyA9IHtcblx0XHRcdGRhdGE6IFwiXCIsXG5cdFx0XHR2aXNpYmxlOiB0aGlzLnZpc2libGUsXG5cdFx0XHRzdHlsZTogdGhpcy5zdHlsZSxcblx0XHRcdGZpbHRlckNvdW50OiB0aGlzLmZpbHRlckNvdW50LFxuXHRcdFx0ZmlsdGVyRGF0YToge2RhdGE6IFwiXCJ9XG5cdFx0fTtcblx0XHQvLyBmaWxsIG91ciBvYmplY3Qgd2l0aCBwcm92aWRlZCBwcm9wcywgYW5kIGZhbGxiYWNrIHRvIGRlZmF1bHRzXG5cdFx0Y29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCByYXdEYXRhKTtcblx0XHRmb3IgKGxldCBwcm9wZXJ0eSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkYXRhKSkge1xuXHRcdFx0aWYgKGRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG5cdFx0XHRcdHRoaXNbcHJvcGVydHldID0gZGF0YVtwcm9wZXJ0eV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVzZWQgZm9yIHNvcnRpbmcgcm93cyBvZiB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIE92ZXJyaWRlIHRvIGVuYWJsZSBkaWZmZXJlbnQgc29ydGluZy5cblx0ICpcblx0ICogPCAwIGlmIGBvbmVgIHNob3VsZCBnbyBiZWZvcmUgYHR3b2Bcblx0ICogPiAwIGlmIGBvbmVgIHNob3VsZCBnbyBhZnRlciBgdHdvYFxuXHQgKiAwIGlmIGl0IGRvZXNuJ3QgbWF0dGVyICh0aGV5IGFyZSB0aGUgc2FtZSlcblx0ICovXG5cdGNvbXBhcmUob25lOiBUYWJsZUl0ZW0sIHR3bzogVGFibGVJdGVtKTogbnVtYmVyIHtcblx0XHRpZiAoIW9uZSB8fCAhdHdvKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIG9uZS5kYXRhID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gb25lLmRhdGEubG9jYWxlQ29tcGFyZSh0d28uZGF0YSk7XG5cdFx0fVxuXG5cdFx0aWYgKG9uZS5kYXRhIDwgdHdvLmRhdGEpIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9IGVsc2UgaWYgKG9uZS5kYXRhID4gdHdvLmRhdGEpIHtcblx0XHRcdHJldHVybiAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXNlZCB0byBmaWx0ZXIgcm93cyBpbiB0aGUgdGFibGUuXG5cdCAqXG5cdCAqIE92ZXJyaWRlIHRvIG1ha2UgYSBjdXN0b20gZmlsdGVyLlxuXHQgKlxuXHQgKiBFdmVuIHRob3VnaCB0aGVyZSBpcyBqdXN0IG9uZSBmaWx0ZXIgZnVuY3Rpb24sIHRoZXJlIGNhbiBiZSBtdWx0aXBsZSBmaWx0ZXJzLlxuXHQgKiBXaGVuIGltcGxlbWVudGluZyBmaWx0ZXIsIHNldCBgZmlsdGVyQ291bnRgIGJlZm9yZSByZXR1cm5pbmcuXG5cdCAqXG5cdCAqIGB0cnVlYCB0byBoaWRlIHRoZSByb3dcblx0ICogYGZhbHNlYCB0byBzaG93IHRoZSByb3dcblx0ICovXG5cdGZpbHRlcihpdGVtOiBUYWJsZUl0ZW0pOiBib29sZWFuIHtcblx0XHR0aGlzLmZpbHRlckNvdW50ID0gMDtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbiJdfQ==