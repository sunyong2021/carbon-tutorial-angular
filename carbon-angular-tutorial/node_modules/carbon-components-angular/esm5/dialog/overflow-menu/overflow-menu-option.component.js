/**
 *
 * carbon-angular v0.0.0 | overflow-menu-option.component.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


import { HostBinding, Component, Input, ElementRef, Output, EventEmitter } from "@angular/core";
/**
 * Available HTML anchor targets
 */
export var Target;
(function (Target) {
    Target["self"] = "_self";
    Target["blank"] = "_blank";
    Target["parent"] = "_parent";
    Target["top"] = "_top";
})(Target || (Target = {}));
/**
 * Security HTML anchor rel when target is set
 */
var REL = "noreferrer noopener";
/**
 * `OverflowMenuOption` represents a single option in an overflow menu
 *
 * Presently it has three possible states - normal, disabled, and danger:
 * ```
 * <ibm-overflow-menu-option>Simple option</ibm-overflow-menu-option>
 * <ibm-overflow-menu-option disabled="true">Disabled</ibm-overflow-menu-option>
 * <ibm-overflow-menu-option type="danger">Danger option</ibm-overflow-menu-option>
 * ```
 *
 * For content that expands beyond the overflow menu `OverflowMenuOption` automatically adds a title attribute.
 */
var OverflowMenuOption = /** @class */ (function () {
    function OverflowMenuOption(elementRef) {
        this.elementRef = elementRef;
        this.optionClass = true;
        this.role = "presentation";
        /**
         * Set to `true` to display a dividing line above this option
         */
        this.divider = false;
        /**
         * toggles between `normal` and `danger` states
         */
        this.type = "normal";
        /**
         * disable/enable interactions
         */
        this.disabled = false;
        /**
         * Apply a custom class to the inner button/anchor
         */
        this.innerClass = "";
        this.selected = new EventEmitter();
        this.tabIndex = -1;
        // note: title must be a real attribute (i.e. not a getter) as of Angular@6 due to
        // change after checked errors
        this.title = null;
    }
    Object.defineProperty(OverflowMenuOption.prototype, "isDanger", {
        get: function () {
            return this.type === "danger";
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OverflowMenuOption.prototype, "isDisabled", {
        get: function () {
            return this.disabled;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OverflowMenuOption.prototype, "target", {
        get: function () {
            return this._target;
        },
        /**
         * Allows to add a target to the anchor
         */
        set: function (value) {
            if (!Object.values(Target).includes(value)) {
                console.warn("`target` must have one of the following values: " + Object.values(Target).join(", ") + ".\nPlease use the `Target` enum exported by carbon-components-angular");
                return;
            }
            this._target = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(OverflowMenuOption.prototype, "rel", {
        /**
         * rel only returns its value if target is defined
         */
        get: function () {
            return this._target ? REL : null;
        },
        enumerable: true,
        configurable: true
    });
    OverflowMenuOption.prototype.onClick = function () {
        this.selected.emit();
    };
    OverflowMenuOption.prototype.onFocus = function () {
        var _this = this;
        setTimeout(function () { return _this.tabIndex = 0; });
    };
    OverflowMenuOption.prototype.onBlur = function () {
        var _this = this;
        setTimeout(function () { return _this.tabIndex = -1; });
    };
    OverflowMenuOption.prototype.ngAfterViewInit = function () {
        var button = this.elementRef.nativeElement.querySelector("button, a");
        var textContainer = button.querySelector(".bx--overflow-menu-options__option-content");
        if (textContainer.scrollWidth > textContainer.offsetWidth) {
            this.title = button.textContent;
        }
    };
    OverflowMenuOption.decorators = [
        { type: Component, args: [{
                    selector: "ibm-overflow-menu-option",
                    template: "\n\t\t<button\n\t\t\t*ngIf=\"!href\"\n\t\t\tclass=\"bx--overflow-menu-options__btn {{innerClass}}\"\n\t\t\trole=\"menuitem\"\n\t\t\t[tabindex]=\"tabIndex\"\n\t\t\t(focus)=\"onFocus()\"\n\t\t\t(blur)=\"onBlur()\"\n\t\t\t(click)=\"onClick()\"\n\t\t\t[disabled]=\"disabled\"\n\t\t\t[attr.title]=\"title\">\n\t\t\t<ng-container *ngTemplateOutlet=\"tempOutlet\"></ng-container>\n\t\t</button>\n\n\t\t<a\n\t\t\t*ngIf=\"href\"\n\t\t\tclass=\"bx--overflow-menu-options__btn {{innerClass}}\"\n\t\t\trole=\"menuitem\"\n\t\t\t[tabindex]=\"tabIndex\"\n\t\t\t(focus)=\"onFocus()\"\n\t\t\t(blur)=\"onBlur()\"\n\t\t\t(click)=\"onClick()\"\n\t\t\t[attr.disabled]=\"disabled\"\n\t\t\t[href]=\"href\"\n\t\t\t[attr.target]=\"target\"\n\t\t\t[attr.rel]=\"rel\"\n\t\t\t[attr.title]=\"title\">\n\t\t\t<ng-container *ngTemplateOutlet=\"tempOutlet\"></ng-container>\n\t\t</a>\n\n\t\t<ng-template #tempOutlet>\n\t\t\t<div class=\"bx--overflow-menu-options__option-content\">\n\t\t\t\t<ng-content></ng-content>\n\t\t\t</div>\n\t\t</ng-template>\n\t"
                }] }
    ];
    /** @nocollapse */
    OverflowMenuOption.ctorParameters = function () { return [
        { type: ElementRef }
    ]; };
    OverflowMenuOption.propDecorators = {
        optionClass: [{ type: HostBinding, args: ["class.bx--overflow-menu-options__option",] }],
        role: [{ type: HostBinding, args: ["attr.role",] }],
        isDanger: [{ type: HostBinding, args: ["class.bx--overflow-menu-options__option--danger",] }],
        isDisabled: [{ type: HostBinding, args: ["class.bx--overflow-menu-options__option--disabled",] }],
        divider: [{ type: HostBinding, args: ["class.bx--overflow-menu--divider",] }, { type: Input }],
        type: [{ type: Input }],
        disabled: [{ type: Input }],
        href: [{ type: Input }],
        target: [{ type: Input }],
        innerClass: [{ type: Input }],
        selected: [{ type: Output }]
    };
    return OverflowMenuOption;
}());
export { OverflowMenuOption };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmZsb3ctbWVudS1vcHRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vY2FyYm9uLWNvbXBvbmVudHMtYW5ndWxhci9kaWFsb2cvIiwic291cmNlcyI6WyJvdmVyZmxvdy1tZW51L292ZXJmbG93LW1lbnUtb3B0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ04sV0FBVyxFQUNYLFNBQVMsRUFDVCxLQUFLLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTixZQUFZLEVBRVosTUFBTSxlQUFlLENBQUM7QUFFdkI7O0dBRUc7QUFDSCxNQUFNLENBQU4sSUFBWSxNQUtYO0FBTEQsV0FBWSxNQUFNO0lBQ2pCLHdCQUFjLENBQUE7SUFDZCwwQkFBZ0IsQ0FBQTtJQUNoQiw0QkFBa0IsQ0FBQTtJQUNsQixzQkFBWSxDQUFBO0FBQ2IsQ0FBQyxFQUxXLE1BQU0sS0FBTixNQUFNLFFBS2pCO0FBRUQ7O0dBRUc7QUFDSCxJQUFNLEdBQUcsR0FBRyxxQkFBcUIsQ0FBQztBQUVsQzs7Ozs7Ozs7Ozs7R0FXRztBQUNIO0lBeUdDLDRCQUFzQixVQUFzQjtRQUF0QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBakVZLGdCQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ2pELFNBQUksR0FBRyxjQUFjLENBQUM7UUFXaEQ7O1dBRUc7UUFDdUQsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUMxRTs7V0FFRztRQUNNLFNBQUksR0FBd0IsUUFBUSxDQUFDO1FBQzlDOztXQUVHO1FBQ00sYUFBUSxHQUFHLEtBQUssQ0FBQztRQWtCMUI7O1dBRUc7UUFDTSxlQUFVLEdBQUcsRUFBRSxDQUFDO1FBWWYsYUFBUSxHQUFzQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXBELGFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQixrRkFBa0Y7UUFDbEYsOEJBQThCO1FBQ3ZCLFVBQUssR0FBRyxJQUFJLENBQUM7SUFJMkIsQ0FBQztJQTlEaEQsc0JBQ1csd0NBQVE7YUFEbkI7WUFFQyxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQ1csMENBQVU7YUFEckI7WUFFQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFvQkQsc0JBQWEsc0NBQU07YUFlbkI7WUFDQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDckIsQ0FBQztRQXBCRDs7V0FFRzthQUNILFVBQW9CLEtBQWE7WUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUMzQyxPQUFPLENBQUMsSUFBSSxDQUNmLHFEQUFxRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsMEVBQ2hCLENBQUMsQ0FBQztnQkFDcEUsT0FBTzthQUNQO1lBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFZRCxzQkFBSSxtQ0FBRztRQUhQOztXQUVHO2FBQ0g7WUFDQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2xDLENBQUM7OztPQUFBO0lBYUQsb0NBQU8sR0FBUDtRQUNDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELG9DQUFPLEdBQVA7UUFBQSxpQkFFQztRQURBLFVBQVUsQ0FBQyxjQUFNLE9BQUEsS0FBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQWpCLENBQWlCLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsbUNBQU0sR0FBTjtRQUFBLGlCQUVDO1FBREEsVUFBVSxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFsQixDQUFrQixDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELDRDQUFlLEdBQWY7UUFDQyxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEUsSUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDO1FBQ3pGLElBQUksYUFBYSxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUMsV0FBVyxFQUFFO1lBQzFELElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztTQUNoQztJQUNGLENBQUM7O2dCQTdIRCxTQUFTLFNBQUM7b0JBQ1YsUUFBUSxFQUFFLDBCQUEwQjtvQkFDcEMsUUFBUSxFQUFFLGdnQ0FtQ1Q7aUJBQ0Q7Ozs7Z0JBdkVBLFVBQVU7Ozs4QkF5RVQsV0FBVyxTQUFDLHlDQUF5Qzt1QkFDckQsV0FBVyxTQUFDLFdBQVc7MkJBRXZCLFdBQVcsU0FBQyxpREFBaUQ7NkJBSzdELFdBQVcsU0FBQyxtREFBbUQ7MEJBTy9ELFdBQVcsU0FBQyxrQ0FBa0MsY0FBRyxLQUFLO3VCQUl0RCxLQUFLOzJCQUlMLEtBQUs7dUJBSUwsS0FBSzt5QkFJTCxLQUFLOzZCQWFMLEtBQUs7MkJBWUwsTUFBTTs7SUE4QlIseUJBQUM7Q0FBQSxBQTlIRCxJQThIQztTQXZGWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuXHRIb3N0QmluZGluZyxcblx0Q29tcG9uZW50LFxuXHRJbnB1dCxcblx0RWxlbWVudFJlZixcblx0T3V0cHV0LFxuXHRFdmVudEVtaXR0ZXIsXG5cdEFmdGVyVmlld0luaXRcbn0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuLyoqXG4gKiBBdmFpbGFibGUgSFRNTCBhbmNob3IgdGFyZ2V0c1xuICovXG5leHBvcnQgZW51bSBUYXJnZXQge1xuXHRzZWxmID0gXCJfc2VsZlwiLFxuXHRibGFuayA9IFwiX2JsYW5rXCIsXG5cdHBhcmVudCA9IFwiX3BhcmVudFwiLFxuXHR0b3AgPSBcIl90b3BcIlxufVxuXG4vKipcbiAqIFNlY3VyaXR5IEhUTUwgYW5jaG9yIHJlbCB3aGVuIHRhcmdldCBpcyBzZXRcbiAqL1xuY29uc3QgUkVMID0gXCJub3JlZmVycmVyIG5vb3BlbmVyXCI7XG5cbi8qKlxuICogYE92ZXJmbG93TWVudU9wdGlvbmAgcmVwcmVzZW50cyBhIHNpbmdsZSBvcHRpb24gaW4gYW4gb3ZlcmZsb3cgbWVudVxuICpcbiAqIFByZXNlbnRseSBpdCBoYXMgdGhyZWUgcG9zc2libGUgc3RhdGVzIC0gbm9ybWFsLCBkaXNhYmxlZCwgYW5kIGRhbmdlcjpcbiAqIGBgYFxuICogPGlibS1vdmVyZmxvdy1tZW51LW9wdGlvbj5TaW1wbGUgb3B0aW9uPC9pYm0tb3ZlcmZsb3ctbWVudS1vcHRpb24+XG4gKiA8aWJtLW92ZXJmbG93LW1lbnUtb3B0aW9uIGRpc2FibGVkPVwidHJ1ZVwiPkRpc2FibGVkPC9pYm0tb3ZlcmZsb3ctbWVudS1vcHRpb24+XG4gKiA8aWJtLW92ZXJmbG93LW1lbnUtb3B0aW9uIHR5cGU9XCJkYW5nZXJcIj5EYW5nZXIgb3B0aW9uPC9pYm0tb3ZlcmZsb3ctbWVudS1vcHRpb24+XG4gKiBgYGBcbiAqXG4gKiBGb3IgY29udGVudCB0aGF0IGV4cGFuZHMgYmV5b25kIHRoZSBvdmVyZmxvdyBtZW51IGBPdmVyZmxvd01lbnVPcHRpb25gIGF1dG9tYXRpY2FsbHkgYWRkcyBhIHRpdGxlIGF0dHJpYnV0ZS5cbiAqL1xuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiBcImlibS1vdmVyZmxvdy1tZW51LW9wdGlvblwiLFxuXHR0ZW1wbGF0ZTogYFxuXHRcdDxidXR0b25cblx0XHRcdCpuZ0lmPVwiIWhyZWZcIlxuXHRcdFx0Y2xhc3M9XCJieC0tb3ZlcmZsb3ctbWVudS1vcHRpb25zX19idG4ge3tpbm5lckNsYXNzfX1cIlxuXHRcdFx0cm9sZT1cIm1lbnVpdGVtXCJcblx0XHRcdFt0YWJpbmRleF09XCJ0YWJJbmRleFwiXG5cdFx0XHQoZm9jdXMpPVwib25Gb2N1cygpXCJcblx0XHRcdChibHVyKT1cIm9uQmx1cigpXCJcblx0XHRcdChjbGljayk9XCJvbkNsaWNrKClcIlxuXHRcdFx0W2Rpc2FibGVkXT1cImRpc2FibGVkXCJcblx0XHRcdFthdHRyLnRpdGxlXT1cInRpdGxlXCI+XG5cdFx0XHQ8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwidGVtcE91dGxldFwiPjwvbmctY29udGFpbmVyPlxuXHRcdDwvYnV0dG9uPlxuXG5cdFx0PGFcblx0XHRcdCpuZ0lmPVwiaHJlZlwiXG5cdFx0XHRjbGFzcz1cImJ4LS1vdmVyZmxvdy1tZW51LW9wdGlvbnNfX2J0biB7e2lubmVyQ2xhc3N9fVwiXG5cdFx0XHRyb2xlPVwibWVudWl0ZW1cIlxuXHRcdFx0W3RhYmluZGV4XT1cInRhYkluZGV4XCJcblx0XHRcdChmb2N1cyk9XCJvbkZvY3VzKClcIlxuXHRcdFx0KGJsdXIpPVwib25CbHVyKClcIlxuXHRcdFx0KGNsaWNrKT1cIm9uQ2xpY2soKVwiXG5cdFx0XHRbYXR0ci5kaXNhYmxlZF09XCJkaXNhYmxlZFwiXG5cdFx0XHRbaHJlZl09XCJocmVmXCJcblx0XHRcdFthdHRyLnRhcmdldF09XCJ0YXJnZXRcIlxuXHRcdFx0W2F0dHIucmVsXT1cInJlbFwiXG5cdFx0XHRbYXR0ci50aXRsZV09XCJ0aXRsZVwiPlxuXHRcdFx0PG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cInRlbXBPdXRsZXRcIj48L25nLWNvbnRhaW5lcj5cblx0XHQ8L2E+XG5cblx0XHQ8bmctdGVtcGxhdGUgI3RlbXBPdXRsZXQ+XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiYngtLW92ZXJmbG93LW1lbnUtb3B0aW9uc19fb3B0aW9uLWNvbnRlbnRcIj5cblx0XHRcdFx0PG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9uZy10ZW1wbGF0ZT5cblx0YFxufSlcbmV4cG9ydCBjbGFzcyBPdmVyZmxvd01lbnVPcHRpb24gaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcblx0QEhvc3RCaW5kaW5nKFwiY2xhc3MuYngtLW92ZXJmbG93LW1lbnUtb3B0aW9uc19fb3B0aW9uXCIpIG9wdGlvbkNsYXNzID0gdHJ1ZTtcblx0QEhvc3RCaW5kaW5nKFwiYXR0ci5yb2xlXCIpIHJvbGUgPSBcInByZXNlbnRhdGlvblwiO1xuXG5cdEBIb3N0QmluZGluZyhcImNsYXNzLmJ4LS1vdmVyZmxvdy1tZW51LW9wdGlvbnNfX29wdGlvbi0tZGFuZ2VyXCIpXG5cdHB1YmxpYyBnZXQgaXNEYW5nZXIoKTogQm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMudHlwZSA9PT0gXCJkYW5nZXJcIjtcblx0fVxuXG5cdEBIb3N0QmluZGluZyhcImNsYXNzLmJ4LS1vdmVyZmxvdy1tZW51LW9wdGlvbnNfX29wdGlvbi0tZGlzYWJsZWRcIilcblx0cHVibGljIGdldCBpc0Rpc2FibGVkKCk6IEJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmRpc2FibGVkO1xuXHR9XG5cdC8qKlxuXHQgKiBTZXQgdG8gYHRydWVgIHRvIGRpc3BsYXkgYSBkaXZpZGluZyBsaW5lIGFib3ZlIHRoaXMgb3B0aW9uXG5cdCAqL1xuXHRASG9zdEJpbmRpbmcoXCJjbGFzcy5ieC0tb3ZlcmZsb3ctbWVudS0tZGl2aWRlclwiKSBASW5wdXQoKSBkaXZpZGVyID0gZmFsc2U7XG5cdC8qKlxuXHQgKiB0b2dnbGVzIGJldHdlZW4gYG5vcm1hbGAgYW5kIGBkYW5nZXJgIHN0YXRlc1xuXHQgKi9cblx0QElucHV0KCkgdHlwZTogXCJub3JtYWxcIiB8IFwiZGFuZ2VyXCIgPSBcIm5vcm1hbFwiO1xuXHQvKipcblx0ICogZGlzYWJsZS9lbmFibGUgaW50ZXJhY3Rpb25zXG5cdCAqL1xuXHRASW5wdXQoKSBkaXNhYmxlZCA9IGZhbHNlO1xuXHQvKipcblx0ICogSWYgaXQncyBhbiBhbmNob3IsIHRoaXMgaXMgaXRzIGxvY2F0aW9uXG5cdCAqL1xuXHRASW5wdXQoKSBocmVmOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBBbGxvd3MgdG8gYWRkIGEgdGFyZ2V0IHRvIHRoZSBhbmNob3Jcblx0ICovXG5cdEBJbnB1dCgpIHNldCB0YXJnZXQodmFsdWU6IFRhcmdldCkge1xuXHRcdGlmICghT2JqZWN0LnZhbHVlcyhUYXJnZXQpLmluY2x1ZGVzKHZhbHVlKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFxuYFxcYHRhcmdldFxcYCBtdXN0IGhhdmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiAke09iamVjdC52YWx1ZXMoVGFyZ2V0KS5qb2luKFwiLCBcIil9LlxuUGxlYXNlIHVzZSB0aGUgXFxgVGFyZ2V0XFxgIGVudW0gZXhwb3J0ZWQgYnkgY2FyYm9uLWNvbXBvbmVudHMtYW5ndWxhcmApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3RhcmdldCA9IHZhbHVlO1xuXHR9XG5cdC8qKlxuXHQgKiBBcHBseSBhIGN1c3RvbSBjbGFzcyB0byB0aGUgaW5uZXIgYnV0dG9uL2FuY2hvclxuXHQgKi9cblx0QElucHV0KCkgaW5uZXJDbGFzcyA9IFwiXCI7XG5cblx0Z2V0IHRhcmdldCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fdGFyZ2V0O1xuXHR9XG5cdC8qKlxuXHQgKiByZWwgb25seSByZXR1cm5zIGl0cyB2YWx1ZSBpZiB0YXJnZXQgaXMgZGVmaW5lZFxuXHQgKi9cblx0Z2V0IHJlbCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fdGFyZ2V0ID8gUkVMIDogbnVsbDtcblx0fVxuXG5cdEBPdXRwdXQoKSBzZWxlY3RlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cblx0cHVibGljIHRhYkluZGV4ID0gLTE7XG5cdC8vIG5vdGU6IHRpdGxlIG11c3QgYmUgYSByZWFsIGF0dHJpYnV0ZSAoaS5lLiBub3QgYSBnZXR0ZXIpIGFzIG9mIEFuZ3VsYXJANiBkdWUgdG9cblx0Ly8gY2hhbmdlIGFmdGVyIGNoZWNrZWQgZXJyb3JzXG5cdHB1YmxpYyB0aXRsZSA9IG51bGw7XG5cblx0cHJvdGVjdGVkIF90YXJnZXQ6IFRhcmdldDtcblxuXHRjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgZWxlbWVudFJlZjogRWxlbWVudFJlZikge31cblxuXHRvbkNsaWNrKCkge1xuXHRcdHRoaXMuc2VsZWN0ZWQuZW1pdCgpO1xuXHR9XG5cblx0b25Gb2N1cygpIHtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMudGFiSW5kZXggPSAwKTtcblx0fVxuXG5cdG9uQmx1cigpIHtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHRoaXMudGFiSW5kZXggPSAtMSk7XG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0Y29uc3QgYnV0dG9uID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvbiwgYVwiKTtcblx0XHRjb25zdCB0ZXh0Q29udGFpbmVyID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCIuYngtLW92ZXJmbG93LW1lbnUtb3B0aW9uc19fb3B0aW9uLWNvbnRlbnRcIik7XG5cdFx0aWYgKHRleHRDb250YWluZXIuc2Nyb2xsV2lkdGggPiB0ZXh0Q29udGFpbmVyLm9mZnNldFdpZHRoKSB7XG5cdFx0XHR0aGlzLnRpdGxlID0gYnV0dG9uLnRleHRDb250ZW50O1xuXHRcdH1cblx0fVxufVxuIl19