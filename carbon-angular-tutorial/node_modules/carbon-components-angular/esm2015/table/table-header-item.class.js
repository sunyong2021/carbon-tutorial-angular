/**
 *
 * carbon-angular v0.0.0 | table-header-item.class.js
 *
 * Copyright 2014, 2021 IBM
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


export class TableHeaderItem {
    /**
     * Creates an instance of TableHeaderItem.
     */
    constructor(rawData) {
        /**
         * Defines if column under this TableHeaderItem should be displayed.
         *
         */
        this.visible = true;
        /**
         * Disables sorting by default.
         *
         */
        this.sorted = false;
        /**
         * Enables sorting on click by default.
         * If false then this column won't show a sorting arrow at all.
         *
         */
        this.sortable = true;
        /**
         * Number of applied filters.
         *
         * `filter()` should set it to appropriate number.
         *
         */
        this.filterCount = 0;
        /**
         * The number of rows to span
         * **NOTE:** not supported by the default carbon table
         */
        this.rowSpan = 1;
        /**
         * The number of columns to span
         */
        this.colSpan = 1;
        /**
         * Style for the column, applied to every element in the column.
         *
         * ngStyle-like format
         *
         */
        this.style = {};
        /**
         * used in `ascending`
         *
         * @protected
         */
        this._ascending = true;
        // defaults so we dont leave things empty
        const defaults = {
            data: "",
            visible: this.visible,
            style: this.style,
            filterCount: this.filterCount,
            filterData: { data: "" }
        };
        // fill our object with provided props, and fallback to defaults
        const data = Object.assign({}, defaults, rawData);
        for (let property of Object.getOwnPropertyNames(data)) {
            if (data.hasOwnProperty(property)) {
                this[property] = data[property];
            }
        }
    }
    /**
     * If true, sort is set to ascending, if false descending will be true.
     *
     */
    set ascending(asc) {
        this._ascending = asc;
    }
    get ascending() {
        return this._ascending;
    }
    /**
     * If true, sort is set to descending, if false ascending will be true.
     *
     */
    set descending(desc) {
        this._ascending = !desc;
    }
    get descending() {
        return !this._ascending;
    }
    get title() {
        if (this._title) {
            return this._title;
        }
        if (!this.data) {
            return "";
        }
        if (typeof this.data === "string") {
            return this.data;
        }
        if (this.data.toString &&
            this.data.constructor !== ({}).constructor) {
            return this.data.toString();
        }
        // data canâ€™t be reasonably converted to an end user readable string
        return "";
    }
    set title(title) {
        this._title = title;
    }
    /**
     * Used for sorting rows of the table.
     *
     * Override to enable different sorting.
     *
     * < 0 if `one` should go before `two`
     * > 0 if `one` should go after `two`
     * 0 if it doesn't matter (they are the same)
     */
    compare(one, two) {
        if (!one || !two) {
            return 0;
        }
        if (typeof one.data === "string") {
            return one.data.localeCompare(two.data);
        }
        if (one.data < two.data) {
            return -1;
        }
        else if (one.data > two.data) {
            return 1;
        }
        else {
            return 0;
        }
    }
    /**
     * Used to filter rows in the table.
     *
     * Override to make a custom filter.
     *
     * Even though there is just one filter function, there can be multiple filters.
     * When implementing filter, set `filterCount` before returning.
     *
     * `true` to hide the row
     * `false` to show the row
     */
    filter(item) {
        this.filterCount = 0;
        return false;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9jYXJib24tY29tcG9uZW50cy1hbmd1bGFyL3RhYmxlLyIsInNvdXJjZXMiOlsidGFibGUtaGVhZGVyLWl0ZW0uY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTUEsTUFBTSxPQUFPLGVBQWU7SUF5TzNCOztPQUVHO0lBQ0gsWUFBWSxPQUFhO1FBM096Qjs7O1dBR0c7UUFDSCxZQUFPLEdBQUcsSUFBSSxDQUFDO1FBRWY7OztXQUdHO1FBQ0gsV0FBTSxHQUFHLEtBQUssQ0FBQztRQUVmOzs7O1dBSUc7UUFDSCxhQUFRLEdBQUcsSUFBSSxDQUFDO1FBRWhCOzs7OztXQUtHO1FBQ0gsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFFaEI7OztXQUdHO1FBQ0gsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUVaOztXQUVHO1FBQ0gsWUFBTyxHQUFHLENBQUMsQ0FBQztRQVFaOzs7OztXQUtHO1FBQ0gsVUFBSyxHQUFHLEVBQUUsQ0FBQztRQWlKWDs7OztXQUlHO1FBQ08sZUFBVSxHQUFHLElBQUksQ0FBQztRQW9DM0IseUNBQXlDO1FBQ3pDLE1BQU0sUUFBUSxHQUFHO1lBQ2hCLElBQUksRUFBRSxFQUFFO1lBQ1IsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7WUFDN0IsVUFBVSxFQUFFLEVBQUMsSUFBSSxFQUFFLEVBQUUsRUFBQztTQUN0QixDQUFDO1FBQ0YsZ0VBQWdFO1FBQ2hFLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNsRCxLQUFLLElBQUksUUFBUSxJQUFJLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN0RCxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDaEM7U0FDRDtJQUNGLENBQUM7SUF2TUQ7OztPQUdHO0lBQ0gsSUFBSSxTQUFTLENBQUMsR0FBRztRQUNoQixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztJQUN2QixDQUFDO0lBQ0QsSUFBSSxTQUFTO1FBQ1osT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLFVBQVUsQ0FBQyxJQUFJO1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQUNELElBQUksVUFBVTtRQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFrSUQsSUFBSSxLQUFLO1FBQ1IsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNuQjtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2YsT0FBTyxFQUFFLENBQUM7U0FDVjtRQUVELElBQUksT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUNsQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDakI7UUFFRCxJQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtZQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFDekM7WUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDNUI7UUFFRCxvRUFBb0U7UUFDcEUsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBSztRQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUF5QkQ7Ozs7Ozs7O09BUUc7SUFDSCxPQUFPLENBQUMsR0FBYyxFQUFFLEdBQWM7UUFDckMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNqQixPQUFPLENBQUMsQ0FBQztTQUNUO1FBRUQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQ2pDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDeEIsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNWO2FBQU0sSUFBSSxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUU7WUFDL0IsT0FBTyxDQUFDLENBQUM7U0FDVDthQUFNO1lBQ04sT0FBTyxDQUFDLENBQUM7U0FDVDtJQUNGLENBQUM7SUFFRDs7Ozs7Ozs7OztPQVVHO0lBQ0gsTUFBTSxDQUFDLElBQWU7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUYWJsZUl0ZW0gfSBmcm9tIFwiLi90YWJsZS1pdGVtLmNsYXNzXCI7XG5pbXBvcnQge1xuXHRFdmVudEVtaXR0ZXIsXG5cdFRlbXBsYXRlUmVmXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUhlYWRlckl0ZW0ge1xuXHQvKipcblx0ICogRGVmaW5lcyBpZiBjb2x1bW4gdW5kZXIgdGhpcyBUYWJsZUhlYWRlckl0ZW0gc2hvdWxkIGJlIGRpc3BsYXllZC5cblx0ICpcblx0ICovXG5cdHZpc2libGUgPSB0cnVlO1xuXG5cdC8qKlxuXHQgKiBEaXNhYmxlcyBzb3J0aW5nIGJ5IGRlZmF1bHQuXG5cdCAqXG5cdCAqL1xuXHRzb3J0ZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogRW5hYmxlcyBzb3J0aW5nIG9uIGNsaWNrIGJ5IGRlZmF1bHQuXG5cdCAqIElmIGZhbHNlIHRoZW4gdGhpcyBjb2x1bW4gd29uJ3Qgc2hvdyBhIHNvcnRpbmcgYXJyb3cgYXQgYWxsLlxuXHQgKlxuXHQgKi9cblx0c29ydGFibGUgPSB0cnVlO1xuXG5cdC8qKlxuXHQgKiBOdW1iZXIgb2YgYXBwbGllZCBmaWx0ZXJzLlxuXHQgKlxuXHQgKiBgZmlsdGVyKClgIHNob3VsZCBzZXQgaXQgdG8gYXBwcm9wcmlhdGUgbnVtYmVyLlxuXHQgKlxuXHQgKi9cblx0ZmlsdGVyQ291bnQgPSAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgbnVtYmVyIG9mIHJvd3MgdG8gc3BhblxuXHQgKiAqKk5PVEU6Kiogbm90IHN1cHBvcnRlZCBieSB0aGUgZGVmYXVsdCBjYXJib24gdGFibGVcblx0ICovXG5cdHJvd1NwYW4gPSAxO1xuXG5cdC8qKlxuXHQgKiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgdG8gc3BhblxuXHQgKi9cblx0Y29sU3BhbiA9IDE7XG5cblx0LyoqXG5cdCAqIEF0dGFjaCBhIGNsYXNzIHRvIHRoZSBjb2x1bW4sIGJvdGggdGhlIGhlYWRlciBhbmQgY29sdW1uIGNlbGxzLlxuXHQgKlxuXHQgKi9cblx0Y2xhc3NOYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFN0eWxlIGZvciB0aGUgY29sdW1uLCBhcHBsaWVkIHRvIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIGNvbHVtbi5cblx0ICpcblx0ICogbmdTdHlsZS1saWtlIGZvcm1hdFxuXHQgKlxuXHQgKi9cblx0c3R5bGUgPSB7fTtcblxuXHQvKipcblx0ICogSWYgdHJ1ZSwgc29ydCBpcyBzZXQgdG8gYXNjZW5kaW5nLCBpZiBmYWxzZSBkZXNjZW5kaW5nIHdpbGwgYmUgdHJ1ZS5cblx0ICpcblx0ICovXG5cdHNldCBhc2NlbmRpbmcoYXNjKSB7XG5cdFx0dGhpcy5fYXNjZW5kaW5nID0gYXNjO1xuXHR9XG5cdGdldCBhc2NlbmRpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2FzY2VuZGluZztcblx0fVxuXG5cdC8qKlxuXHQgKiBJZiB0cnVlLCBzb3J0IGlzIHNldCB0byBkZXNjZW5kaW5nLCBpZiBmYWxzZSBhc2NlbmRpbmcgd2lsbCBiZSB0cnVlLlxuXHQgKlxuXHQgKi9cblx0c2V0IGRlc2NlbmRpbmcoZGVzYykge1xuXHRcdHRoaXMuX2FzY2VuZGluZyA9ICFkZXNjO1xuXHR9XG5cdGdldCBkZXNjZW5kaW5nKCkge1xuXHRcdHJldHVybiAhdGhpcy5fYXNjZW5kaW5nO1xuXHR9XG5cblx0LyoqXG5cdCAqIERhdGEgZm9yIHRoZSBoZWFkZXIgaXRlbS5cblx0ICovXG5cdGRhdGE6IGFueTtcblxuXHQvKipcblx0ICogRGF0YSBmb3IgdGhlIGhlYWRlciBpdGVtIGZvciBnZW5lcmFsIHVzYWdlIGluIHRoZSBjb250cm9sbGVyLlxuXHQgKiBGb3IgZXhhbXBsZSwgd2hpY2ggYGZpZWxkYCBpcyB0aGlzIGNvbHVtbiByZWxhdGVkIHRvLlxuXHQgKi9cblx0bWV0YWRhdGE6IGFueTtcblxuXHQvKipcblx0ICogVXNlZCB0byBkaXNwbGF5IGRhdGEgaW4gYSBkZXNpcmVkIHdheS5cblx0ICpcblx0ICogSWYgbm90IHByb3ZpZGVkLCBkaXNwbGF5cyBkYXRhIGFzIGEgc2ltcGxlIHN0cmluZy5cblx0ICpcblx0ICogVXNhZ2U6XG5cdCAqXG5cdCAqIEluIGEgY29tcG9uZW50IHdoZXJlIHlvdSdyZSB1c2luZyB0aGUgdGFibGUgY3JlYXRlIGEgdGVtcGxhdGUgbGlrZTpcblx0ICpcblx0ICogYGBgaHRtbFxuXHQgKiA8bmctdGVtcGxhdGUgI2N1c3RvbUhlYWRlclRlbXBsYXRlIGxldC1kYXRhPVwiZGF0YVwiPlxuXHQgKiBcdFx0PGk+PGEgW3JvdXRlckxpbmtdPVwiZGF0YS5saW5rXCI+e3tkYXRhLm5hbWV9fTwvYT48L2k+XG5cdCAqIDwvbmctdGVtcGxhdGU+XG5cdCAqIGBgYFxuXHQgKiB3aGVyZSB3ZSBhc3N1bWUgeW91ciBkYXRhIGNvbnRhaW5zIGBsaW5rYCBhbmQgYG5hbWVgLiBgbGV0LWRhdGE9XCJkYXRhXCJgIGlzXG5cdCAqIG5lY2Vzc2FyeSBmb3IgeW91IHRvIGJlIGFibGUgdG8gYWNjZXNzIGl0ZW0ncyBkYXRhIGluIHRoZSB0ZW1wbGF0ZS5cblx0ICpcblx0ICogQ3JlYXRlIGBWaWV3Q2hpbGRgIHByb3BlcnR5IHdpdGg6XG5cdCAqXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogKGF0KVZpZXdDaGlsZChcImN1c3RvbUhlYWRlclRlbXBsYXRlXCIpXG5cdCAqIHByb3RlY3RlZCBjdXN0b21IZWFkZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pjtcblx0ICogYGBgXG5cdCAqXG5cdCAqIFNldCB0aGUgdGVtcGxhdGUgdG8gdGhlIGhlYWRlciBpdGVtLCBmb3IgZXhhbXBsZTpcblx0ICpcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiB0aGlzLm1vZGVsLmhlYWRlciA9IFtcblx0ICogXHRcdG5ldyBUYWJsZUhlYWRlckl0ZW0oe2RhdGE6IHtuYW1lOiBcIkN1c3RvbSBoZWFkZXJcIiwgbGluazogXCIvdGFibGVcIn0sIHRlbXBsYXRlOiB0aGlzLmN1c3RvbUhlYWRlclRlbXBsYXRlfSlcblx0ICogXTtcblx0ICogYGBgXG5cdCAqL1xuXHR0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuXHQvKipcblx0ICogVGhlIGxhYmVsIGZvciB0aGUgc29ydCBidXR0b25cblx0ICovXG5cdGFyaWFTb3J0TGFiZWw6IHN0cmluZztcblxuXHQvKipcblx0ICogQSBjYWxsYmFjayBmdW5jdGlvbiB0byBmb3JtYXQgdGhlIHNvcnQgbGFiZWwuIFdpbGwgYmUgaGVhdmlseSBjYWxsZWQuXG5cdCAqL1xuXHRmb3JtYXRTb3J0TGFiZWw6IChsYWJlbDogc3RyaW5nLCBzdGF0aWNMYWJlbD86IHN0cmluZykgPT4gc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBVc2VkIGFzIGEgdGVtcGxhdGUgZm9yIHBvcG92ZXIgZmlsdGVyLlxuXHQgKlxuXHQgKiBgbGV0LXBvcG92ZXI9XCJwb3BvdmVyXCJgIHdpbGwgZ2l2ZSB5b3UgYWNjZXNzIHRvIHBvcG92ZXIgY29tcG9uZW50IGFuZCBhbGxvdyB5b3UgdG9cblx0ICogbWFuaXB1bGF0ZSBpdCBpZiBuZWVkZWQuXG5cdCAqXG5cdCAqIGBsZXQtZmlsdGVyPVwiZmlsdGVyXCJgIHdpbGwgZ2l2ZSB5b3UgYWNjZXNzIHRvIHRoZSBcImZpbHRlclwiLiBUaGUgbWFpbiB0YWtlYXdheSBpc1xuXHQgKiBzdG9yZSB0aGUgZGF0YSB5b3UgbmVlZCB0byBgZmlsdGVyLmRhdGFgLiBZb3Ugd2lsbCBiZSBhYmxlIHRvIGFjY2VzcyBpdCBhc1xuXHQgKiBgdGhpcy5maWx0ZXJEYXRhLmRhdGFgIGZyb20geW91ciBgZmlsdGVyKClgIGZ1bmN0aW9uIHdoZW4geW91IGV4dGVuZCBgVGFibGVIZWFkZXJJdGVtYFxuXHQgKlxuXHQgKiBFeGFtcGxlOlxuXHQgKiBgYGBodG1sXG5cdCAqIDxuZy10ZW1wbGF0ZSAjZmlsdGVyIGxldC1wb3BvdmVyPVwicG9wb3ZlclwiPlxuXHQgKiBcdDxpYm0tbGFiZWwgY2xhc3M9XCJmaXJzdC1sYWJlbFwiPlxuXHQgKiBcdFx0VmFsdWVcblx0ICogXHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIFsobmdNb2RlbCldPVwiZmlsdGVyMVwiIGNsYXNzPVwiaW5wdXQtZmllbGRcIj5cblx0ICogXHQ8L2libS1sYWJlbD5cblx0ICogPC9uZy10ZW1wbGF0ZT5cblx0ICpcblx0ICogPG5nLXRlbXBsYXRlICNmaWx0ZXJGb290ZXIgbGV0LXBvcG92ZXI9XCJwb3BvdmVyXCIgbGV0LWZpbHRlcj1cImRhdGFcIj5cblx0ICogXHQ8YnV0dG9uIGNsYXNzPVwiYnRuLS1wcmltYXJ5XCIgKGNsaWNrKT1cImZpbHRlci5kYXRhID0gZmlsdGVyMTsgcG9wb3Zlci5vbkNsb3NlKClcIj5BcHBseTwvYnV0dG9uPlxuXHQgKiBcdDxidXR0b24gY2xhc3M9XCJidG4tLXNlY29uZGFyeVwiIChjbGljayk9XCJwb3BvdmVyLm9uQ2xvc2UoKVwiPkNhbmNlbDwvYnV0dG9uPlxuXHQgKiA8L25nLXRlbXBsYXRlPlxuXHQgKiBgYGBcblx0ICpcblx0ICogU2V0IHRoZSB0ZW1wbGF0ZSB3aXRoLCBmb3IgZXhhbXBsZTpcblx0ICogYGBgdHlwZXNjcmlwdFxuXHQgKiBuZXcgRmlsdGVyYWJsZUhlYWRlckl0ZW0oe1xuXHQgKiBcdGZpbHRlclRlbXBsYXRlOiB0aGlzLmZpbHRlcixcblx0ICpcdGZpbHRlckZvb3RlcjogdGhpcy5maWx0ZXJGb290ZXJcblx0ICogfSlcblx0ICogYGBgXG5cdCAqXG5cdCAqIGBgYHR5cGVzY3JpcHRcblx0ICogY2xhc3MgRmlsdGVyYWJsZUhlYWRlckl0ZW0gZXh0ZW5kcyBUYWJsZUhlYWRlckl0ZW0ge1xuXHQgKiBcdC8vIGN1c3RvbSBmaWx0ZXIgZnVuY3Rpb25cblx0ICogXHRmaWx0ZXIoaXRlbTogVGFibGVJdGVtKTogYm9vbGVhbiB7XG5cdCAqIFx0XHRpZiAodHlwZW9mIGl0ZW0uZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiBpdGVtLmRhdGEuaW5kZXhPZih0aGlzLmZpbHRlckRhdGEuZGF0YSkgPj0gMCkge1xuXHQgKiBcdFx0XHR0aGlzLmZpbHRlckNvdW50ID0gMTtcblx0ICogXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHQgKiBcdFx0fVxuXHQgKiBcdFx0dGhpcy5maWx0ZXJDb3VudCA9IDA7XG5cdCAqIFx0XHRyZXR1cm4gdHJ1ZTtcblx0ICogXHR9XG5cdCAqIH1cblx0ICogYGBgXG5cdCAqL1xuXHRmaWx0ZXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuXHQvKipcblx0ICogVXNlZCBhbG9uZyB3aXRoIGBmaWx0ZXJUZW1wbGF0ZWAgdG8gY29uc3RydWN0IHRoZSBmaWx0ZXIgcG9wb3ZlclxuXHQgKi9cblx0ZmlsdGVyRm9vdGVyOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG5cdC8qKlxuXHQgKiBUaGlzIGlzIHdoZXJlIHlvdSBzdG9yZSB5b3VyIGRhdGEgd2hlbiBhcHBseWluZyBmaWx0ZXIuXG5cdCAqXG5cdCAqIEl0IGlzIHRoZSBhY3R1YWwgb2JqZWN0IHlvdSBoYXZlIGFjY2VzcyB0byB3aXRoIGBsZXQtZmlsdGVyPVwiZGF0YVwiYCBpbiB5b3VyIHRlbXBsYXRlLlxuXHQgKlxuXHQgKiBNYWtlIHN1cmUgdG8gc3RvcmUgZGF0YSBpbiBgZmlsdGVyLmRhdGFgIGluIHlvdXIgdGVtcGxhdGUsIGFuZCB5b3Ugd2lsbCBoYXZlIGl0XG5cdCAqIGF2YWlsYWJsZSBpbiBgZmlsdGVyRGF0YS5kYXRhYCBpbiB5b3VyIGV4dGVuc2lvbiBvZiBgVGFibGVIZWFkZXJJdGVtYC5cblx0ICpcblx0ICogQmVjYXVzZSBhbmd1bGFyIGFuZCBvYmplY3QgcmVmZXJlbmNlcy5cblx0ICovXG5cdGZpbHRlckRhdGE6IGFueTtcblxuXHQvKipcblx0ICogdXNlZCBpbiBgYXNjZW5kaW5nYFxuXHQgKlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwcm90ZWN0ZWQgX2FzY2VuZGluZyA9IHRydWU7XG5cblx0Z2V0IHRpdGxlKCkge1xuXHRcdGlmICh0aGlzLl90aXRsZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3RpdGxlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5kYXRhKSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHRoaXMuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0cmV0dXJuIHRoaXMuZGF0YTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHR0aGlzLmRhdGEudG9TdHJpbmcgJiZcblx0XHRcdHRoaXMuZGF0YS5jb25zdHJ1Y3RvciAhPT0gKHt9KS5jb25zdHJ1Y3RvclxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZGF0YS50b1N0cmluZygpO1xuXHRcdH1cblxuXHRcdC8vIGRhdGEgY2Fu4oCZdCBiZSByZWFzb25hYmx5IGNvbnZlcnRlZCB0byBhbiBlbmQgdXNlciByZWFkYWJsZSBzdHJpbmdcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXG5cdHNldCB0aXRsZSh0aXRsZSkge1xuXHRcdHRoaXMuX3RpdGxlID0gdGl0bGU7XG5cdH1cblxuXHRwcml2YXRlIF90aXRsZTogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFRhYmxlSGVhZGVySXRlbS5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHJhd0RhdGE/OiBhbnkpIHtcblx0XHQvLyBkZWZhdWx0cyBzbyB3ZSBkb250IGxlYXZlIHRoaW5ncyBlbXB0eVxuXHRcdGNvbnN0IGRlZmF1bHRzID0ge1xuXHRcdFx0ZGF0YTogXCJcIixcblx0XHRcdHZpc2libGU6IHRoaXMudmlzaWJsZSxcblx0XHRcdHN0eWxlOiB0aGlzLnN0eWxlLFxuXHRcdFx0ZmlsdGVyQ291bnQ6IHRoaXMuZmlsdGVyQ291bnQsXG5cdFx0XHRmaWx0ZXJEYXRhOiB7ZGF0YTogXCJcIn1cblx0XHR9O1xuXHRcdC8vIGZpbGwgb3VyIG9iamVjdCB3aXRoIHByb3ZpZGVkIHByb3BzLCBhbmQgZmFsbGJhY2sgdG8gZGVmYXVsdHNcblx0XHRjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHJhd0RhdGEpO1xuXHRcdGZvciAobGV0IHByb3BlcnR5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRhdGEpKSB7XG5cdFx0XHRpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcblx0XHRcdFx0dGhpc1twcm9wZXJ0eV0gPSBkYXRhW3Byb3BlcnR5XTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVXNlZCBmb3Igc29ydGluZyByb3dzIG9mIHRoZSB0YWJsZS5cblx0ICpcblx0ICogT3ZlcnJpZGUgdG8gZW5hYmxlIGRpZmZlcmVudCBzb3J0aW5nLlxuXHQgKlxuXHQgKiA8IDAgaWYgYG9uZWAgc2hvdWxkIGdvIGJlZm9yZSBgdHdvYFxuXHQgKiA+IDAgaWYgYG9uZWAgc2hvdWxkIGdvIGFmdGVyIGB0d29gXG5cdCAqIDAgaWYgaXQgZG9lc24ndCBtYXR0ZXIgKHRoZXkgYXJlIHRoZSBzYW1lKVxuXHQgKi9cblx0Y29tcGFyZShvbmU6IFRhYmxlSXRlbSwgdHdvOiBUYWJsZUl0ZW0pOiBudW1iZXIge1xuXHRcdGlmICghb25lIHx8ICF0d28pIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2Ygb25lLmRhdGEgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiBvbmUuZGF0YS5sb2NhbGVDb21wYXJlKHR3by5kYXRhKTtcblx0XHR9XG5cblx0XHRpZiAob25lLmRhdGEgPCB0d28uZGF0YSkge1xuXHRcdFx0cmV0dXJuIC0xO1xuXHRcdH0gZWxzZSBpZiAob25lLmRhdGEgPiB0d28uZGF0YSkge1xuXHRcdFx0cmV0dXJuIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVc2VkIHRvIGZpbHRlciByb3dzIGluIHRoZSB0YWJsZS5cblx0ICpcblx0ICogT3ZlcnJpZGUgdG8gbWFrZSBhIGN1c3RvbSBmaWx0ZXIuXG5cdCAqXG5cdCAqIEV2ZW4gdGhvdWdoIHRoZXJlIGlzIGp1c3Qgb25lIGZpbHRlciBmdW5jdGlvbiwgdGhlcmUgY2FuIGJlIG11bHRpcGxlIGZpbHRlcnMuXG5cdCAqIFdoZW4gaW1wbGVtZW50aW5nIGZpbHRlciwgc2V0IGBmaWx0ZXJDb3VudGAgYmVmb3JlIHJldHVybmluZy5cblx0ICpcblx0ICogYHRydWVgIHRvIGhpZGUgdGhlIHJvd1xuXHQgKiBgZmFsc2VgIHRvIHNob3cgdGhlIHJvd1xuXHQgKi9cblx0ZmlsdGVyKGl0ZW06IFRhYmxlSXRlbSk6IGJvb2xlYW4ge1xuXHRcdHRoaXMuZmlsdGVyQ291bnQgPSAwO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuIl19